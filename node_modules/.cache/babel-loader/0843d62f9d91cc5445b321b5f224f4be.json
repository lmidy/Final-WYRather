{"ast":null,"code":"import { getInitialData } from '../utils/api';\nimport { addUserQuestion, saveUserAnswer, receiveUsers } from '../actions/users';\nimport { addQuestion, receiveQuestions, saveQuestionAnswer } from '../actions/questions';\nimport { _saveQuestionAnswer, _saveQuestion } from '../utils/_DATA';\nexport function handleInitialData() {\n  return dispatch => {\n    return getInitialData().then(({\n      users,\n      questions\n    }) => {\n      dispatch(receiveUsers(users));\n      dispatch(receiveQuestions(questions));\n    });\n  };\n}\nexport function handleAddQuestion(optionOne, optionTwo) {\n  return (dispatch, getState) => {\n    const _getState = getState(),\n          authedUser = _getState.authedUser; //console.log('what is available in getstate' +authedUser)\n\n\n    return _saveQuestion({\n      optionOne,\n      optionTwo,\n      author: authedUser\n    }).then(question => {\n      dispatch(addQuestion(question)); //console.log('what is the autheduser question in Handle Add WQuestion' +authedUser)\n\n      dispatch(addUserQuestion(authedUser, question.id));\n    });\n  };\n}\nexport function handleAnswer(qid, option) {\n  return (dispatch, getState) => {\n    const _getState2 = getState(),\n          authedUser = _getState2.authedUser; //console.log(dispatch);\n\n\n    const info = {\n      authedUser: authedUser,\n      qid,\n      answer: option\n    };\n\n    _saveQuestionAnswer(info).then(() => {\n      dispatch(saveQuestionAnswer(authedUser, qid, option));\n      dispatch(saveUserAnswer(authedUser, qid, option));\n    });\n  };\n}","map":{"version":3,"sources":["/Users/lynettemidy/Documents/Final-WYRather/src/actions/shared.js"],"names":["getInitialData","addUserQuestion","saveUserAnswer","receiveUsers","addQuestion","receiveQuestions","saveQuestionAnswer","_saveQuestionAnswer","_saveQuestion","handleInitialData","dispatch","then","users","questions","handleAddQuestion","optionOne","optionTwo","getState","authedUser","author","question","id","handleAnswer","qid","option","info","answer"],"mappings":"AAAA,SAASA,cAAT,QAA+B,cAA/B;AACA,SAASC,eAAT,EAA0BC,cAA1B,EAA0CC,YAA1C,QAA8D,kBAA9D;AACA,SAASC,WAAT,EAAsBC,gBAAtB,EAAwCC,kBAAxC,QAAkE,sBAAlE;AACA,SAASC,mBAAT,EAA8BC,aAA9B,QAAmD,gBAAnD;AAEA,OAAO,SAASC,iBAAT,GAA8B;AACjC,SAAQC,QAAD,IAAc;AACjB,WAAOV,cAAc,GAChBW,IADE,CACG,CAAC;AAAEC,MAAAA,KAAF;AAASC,MAAAA;AAAT,KAAD,KAAwB;AAC1BH,MAAAA,QAAQ,CAACP,YAAY,CAACS,KAAD,CAAb,CAAR;AACAF,MAAAA,QAAQ,CAACL,gBAAgB,CAACQ,SAAD,CAAjB,CAAR;AACP,KAJM,CAAP;AAKH,GAND;AAOH;AAED,OAAO,SAASC,iBAAT,CAA4BC,SAA5B,EAAuCC,SAAvC,EAAiD;AACpD,SAAO,CAACN,QAAD,EAAWO,QAAX,KAAwB;AAAA,sBACJA,QAAQ,EADJ;AAAA,UACnBC,UADmB,aACnBA,UADmB,EAE3B;;;AACA,WAAOV,aAAa,CAAC;AACjBO,MAAAA,SADiB;AAEjBC,MAAAA,SAFiB;AAGjBG,MAAAA,MAAM,EAAED;AAHS,KAAD,CAAb,CAKNP,IALM,CAKAS,QAAD,IAAc;AAChBV,MAAAA,QAAQ,CAACN,WAAW,CAACgB,QAAD,CAAZ,CAAR,CADgB,CAEhB;;AACAV,MAAAA,QAAQ,CAACT,eAAe,CAACiB,UAAD,EAAaE,QAAQ,CAACC,EAAtB,CAAhB,CAAR;AACH,KATM,CAAP;AAWH,GAdD;AAeH;AAED,OAAO,SAASC,YAAT,CAAuBC,GAAvB,EAA4BC,MAA5B,EAAoC;AACvC,SAAO,CAACd,QAAD,EAAWO,QAAX,KAAwB;AAAA,uBACNA,QAAQ,EADF;AAAA,UACrBC,UADqB,cACrBA,UADqB,EAE7B;;;AACA,UAAMO,IAAI,GAAG;AACXP,MAAAA,UAAU,EAAEA,UADD;AAEXK,MAAAA,GAFW;AAGXG,MAAAA,MAAM,EAAEF;AAHG,KAAb;;AAKAjB,IAAAA,mBAAmB,CAAEkB,IAAF,CAAnB,CACKd,IADL,CACU,MAAM;AACRD,MAAAA,QAAQ,CAACJ,kBAAkB,CAAEY,UAAF,EAAcK,GAAd,EAAmBC,MAAnB,CAAnB,CAAR;AACAd,MAAAA,QAAQ,CAACR,cAAc,CAAEgB,UAAF,EAAcK,GAAd,EAAmBC,MAAnB,CAAf,CAAR;AACH,KAJL;AAKD,GAbD;AAcH","sourcesContent":["import { getInitialData } from '../utils/api'\nimport { addUserQuestion, saveUserAnswer, receiveUsers } from '../actions/users'\nimport { addQuestion, receiveQuestions, saveQuestionAnswer } from '../actions/questions'\nimport { _saveQuestionAnswer, _saveQuestion } from '../utils/_DATA'\n\nexport function handleInitialData () {\n    return (dispatch) => {\n        return getInitialData()\n            .then(({ users, questions})=> {\n                dispatch(receiveUsers(users));\n                dispatch(receiveQuestions(questions))\n        })\n    }\n}\n\nexport function handleAddQuestion (optionOne, optionTwo){\n    return (dispatch, getState) => {\n        const { authedUser } = getState();\n        //console.log('what is available in getstate' +authedUser)\n        return _saveQuestion({\n            optionOne,\n            optionTwo,\n            author: authedUser\n        })\n        .then((question) => {\n            dispatch(addQuestion(question));\n            //console.log('what is the autheduser question in Handle Add WQuestion' +authedUser)\n            dispatch(addUserQuestion(authedUser, question.id))\n        })\n\n    }\n}\n\nexport function handleAnswer (qid, option) {\n    return (dispatch, getState) => {\n      const { authedUser } = getState();\n      //console.log(dispatch);\n      const info = {\n        authedUser: authedUser,\n        qid,\n        answer: option\n      };\n      _saveQuestionAnswer (info)\n          .then(() => {\n              dispatch(saveQuestionAnswer (authedUser, qid, option));\n              dispatch(saveUserAnswer (authedUser, qid, option))\n          })\n    }\n}\n"]},"metadata":{},"sourceType":"module"}